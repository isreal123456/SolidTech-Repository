{% extends 'base.html' %}
<!DOCTYPE html>
<html lang="en">

<head>
    {% load static %}
    {% load bootstrap5 %}
    {% bootstrap_css %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">

    {% block title %}
        <title>Home</title>
        {% load static %}
        <link rel="stylesheet" href="{% static 'css/home.css' %}">

    {% endblock %}

</head>

<body>
<link rel="stylesheet" class="img" href="{% static 'css/home.css' %}">
{% block content %}
    <p id="title">WELCOME TO SOLID TECH</p>

    <div id="container-1">
        <div id="profit-div">
            <h3 id="profit">TOTAL PROFIT MADE TODAY: #{{ cost }}</h3>
        </div>

        <div id="order-div">
            <h3 id="order">TOTAL ORDERS TODAY: {{ order }}</h3>
        </div>
    </div>
    <br>

    <div id="container-2">
        <div id="log-div">
            <h4 id="text">LOGS</h4>
            <ul>
                {% for logs in log %}
                    <li>
                        <span id="circle"></span>

                        <div id="log-sub">

                            <p id="name">{{ logs.log|title }}</p>
                            <p id="date">{{ logs.date_created }}</p>


                        </div>
                    </li>

                {% endfor %}
            </ul>
        </div>


        <div id="graph-div">
            <canvas id="myChart"></canvas>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        const ctx = document.getElementById('myChart');

        new Chart(ctx, {
            type: 'line',
            data: {
                labels:{{ labels|safe }}
                ,
                datasets: [{
                    label: 'Orders Made This Month',
                    data: {{ data|safe }},
                    borderWidth: 3
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>


    <br>
{% endblock %}

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
        crossorigin="anonymous"></script>


</body>

</html>
